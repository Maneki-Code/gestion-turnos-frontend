<section>
  <div class="toggle-container">
    <h2>Cambiar contrase単a</h2>
    <label class="toggle-switch">
      <input type="checkbox" (click)="toggleForm()" />
      <span class="slider"></span>
    </label>
  </div>

  <form [formGroup]="form" (ngSubmit)="changePassword()" >
    <div class="form-group2">
      <div class="input container">
        <ng-icon class="icon icon-medium" name="heroLockClosed" />
        <input class="input" [type]="statusButtonOne === 'showPassword' ? 'text' : 'password'" formControlName="oldPassword"
          placeholder="Contrase単a actual" />
        @if (statusButtonOne === 'hidePassword') {
        <ng-icon class="icon icon-small" name="heroEyeSlash" (click)="showPassword(1)" />
        } @else {
        <ng-icon class="icon icon-small" name="heroEye" (click)="showPassword(1)" />
        }
      </div>
      <app-form-error *ngIf="form.get('oldPassword')?.touched" [control]="form.get('oldPassword')!"></app-form-error>
    </div>

    <div class="form-group2">
      <div class="input container">
        <ng-icon class="icon icon-medium" name="heroLockClosed" />
        <input class="input" [type]="statusButtonTwo === 'showPassword' ? 'text' : 'password'" formControlName="newPassword"
          placeholder="Contrase単a nueva"/>
        @if (statusButtonTwo === 'hidePassword') {
        <ng-icon class="icon icon-small" name="heroEyeSlash" (click)="showPassword(2)" />
        } @else {
        <ng-icon class="icon icon-small" name="heroEye" (click)="showPassword(2)" />
        }
      </div>
      <app-form-error *ngIf="form.get('newPassword')?.touched" [control]="form.get('newPassword')!"></app-form-error>
    </div>
    
    <div  class="form-group2">
      <div class="input container">
        <ng-icon class="icon icon-medium" name="heroLockClosed" />
        <input class="input" [type]="statusButtonThree === 'showPassword' ? 'text' : 'password'" formControlName="newPasswordRepeat"
          placeholder="Contrase単a nueva otra vez" />
        @if (statusButtonThree === 'hidePassword') {
        <ng-icon class="icon icon-small" name="heroEyeSlash" (click)="showPassword(3)" />
        } @else {
        <ng-icon class="icon icon-small" name="heroEye" (click)="showPassword(3)" />
        }
      </div>
      <app-form-error *ngIf="form.get('newPasswordRepeat')?.touched" [control]="form.get('newPasswordRepeat')!"></app-form-error>
    </div>
    
    <button type="submit" class="btn success full" [disabled]="form.invalid" [disabled]="isFormEnabled">Guardar</button>
  </form>
</section>